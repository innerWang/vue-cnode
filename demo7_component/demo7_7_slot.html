<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>slot-插槽的使用</title>
  <style>
    #app {
      padding: 20px 30px;
      border: 1px solid peru;
      margin: 100px auto;
      width: 600px;
    }
  </style>
</head>

<body>
  <div id="app">

    ******* 单个插槽************* <br>
    <my-component v-show="childShow">
      <!-- 写了p标签，会替代template中的 <slot>xxx</slot> -->
      <p>我父组件插入的内容</p>
    </my-component>

    <hr>
    ******* 具名插槽********** <br>
    <name-component>
      <h3 slot="header">我是标题</h3>
      <!-- <p>我是正文内容</p>
      <p>正文内容有两段</p> -->
      <p slot="footer"> 我是底部信息</p>
    </name-component>


    <hr>
    ******* 作用域插槽: 从子组件中获取数据********** <br>

    <scope-component>
      <!-- 在vue.js的2.5.0版本之前 一定要使用template标签写slot来使用作用域插槽 -->
      <!-- <template slot="abc" slot-scope="prop">
        {{prop.text}}
      </template> -->

      <!-- 在vue.js的2.5.0版本之后 可以在任何标签上使用作用域插槽 -->
      <p slot="abc" slot-scope="prop">
        {{prop.text}}
      </p>

    </scope-component>

  </div>





  <script src="https://cdn.bootcss.com/vue/2.6.10/vue.js"></script>
  <script>
    Vue.component('my-component', {
      template: `<div>
                    <slot>
                      如果父组件没有插入内容，我就作为默认出现
                    </slot>
                  </div>`,
      data: function () {
        return {
          msg: '我是子组件的内容',
        }
      }
    })

    Vue.component('name-component', {
      template: `<div>
                <div class="header">
                  <slot name="header">
                    我是子组件给header准备的内容
                  </slot>
                </div>
                <div class="container">
                  <slot>
                    我是子组件给container准备的内容
                  </slot>
                </div>
                <div class="footer">
                  <slot name="footer">
                    我是子组件给footer准备的内容
                  </slot>
                </div></div>`,
      mounted: function () {
        //访问插槽
        var vnode = this.$slots.header;
        var text= vnode[0].elm.innerText;
        console.log(vnode);
        console.log(text)
      }
    })

    Vue.component('scope-component', {
      template: `<div>
                    <slot text="我是来自子组件的数据aaaa" name="abc">
                    </slot>
                  </div>`,
      data: function () {
        return {
          msg: '我是子组件的内容',
        }
      }
    })

    var app = new Vue({
      el: '#app',
      data: {
        msg: '我是父组件的内容',
        childShow: true
      }
    })
  </script>
</body>

</html>