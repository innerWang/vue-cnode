(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],u=0,f=[];u<o.length;u++)r=o[u],i[r]&&f.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},i={app:0},s=[];function o(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"1fb3e9a6"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"9e536868"}[t]+".css",i=c.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return e()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){l=f[o],u=l.getAttribute("data-href");if(u===a||u===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],h.parentNode.removeChild(h),n(s)},h.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(h)}).then(function(){r[t]=0}));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise(function(e,n){a=i[t]=[e,n]});e.push(a[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t),l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");s.type=a,s.request=r,n[1](s)}i[t]=void 0}};var f=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/vue-cnode/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var h=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},1435:function(t,e,n){},"56a6":function(t,e,n){"use strict";var a=n("1435"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("6b54");var a=n("0a0d"),r=n.n(a),i=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("HeaderBar"),n("main",[n("router-view",{attrs:{name:"main"}}),n("router-view",{attrs:{name:"slidebar"}})],1)],1)},o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"headerbar"}},[a("router-link",{attrs:{to:{name:"root"}}},[a("img",{attrs:{src:n("9b19"),alt:"cnode_svg"}})]),t.loggedIn?a("ul",{staticClass:"list",attrs:{id:"logout"}},[t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12)]):a("ul",{staticClass:"active list",attrs:{id:"login"}},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5)])],1)},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#",onclick:"return false"}},[t._v("首页")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#",onclick:"return false"}},[t._v("未读消息")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#",onclick:"return false"}},[t._v("新手入门")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#",onclick:"return false"}},[t._v("API")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#",onclick:"return false"}},[t._v("注册")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#",onclick:"return false"}},[t._v("登录")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#"}},[t._v("首页")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#"}},[t._v("未读消息")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#"}},[t._v("新手入门")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#"}},[t._v("API")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#"}},[t._v("关于")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#"}},[t._v("设置")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{attrs:{href:"#"}},[t._v("退出")])])}],u={name:"headerbar",data:function(){return{loggedIn:!1}}},f=u,h=(n("bef4"),n("2877")),p=Object(h["a"])(f,c,l,!1,null,"707b94ca",null),d=p.exports,g={name:"app",components:{HeaderBar:d}},v=g,m=(n("034f"),Object(h["a"])(v,s,o,!1,null,null,null)),_=m.exports,b=n("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"articleList"}},[t.isLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:n("cf1c"),alt:"正在加载"}})]):a("div",{staticClass:"lists"},[t._m(0),a("ul",t._l(t.articleLists,function(e){return a("li",{key:e.id},[a("img",{attrs:{src:e.author.avatar_url,alt:e.author.loginname}}),a("span",{staticClass:"count"},[a("span",{staticClass:"reply"},[t._v(t._s(e.reply_count))]),t._v("/\n          "),a("span",{staticClass:"visit"},[t._v(t._s(e.visit_count))])]),a("span",{class:[{active:e.good||e.top},"tab"]},[t._v(t._s(t.getTab(e)))]),a("span",{staticClass:"title"},[a("router-link",{attrs:{to:{name:"get_content",params:{id:e.id,name:e.author.loginname}}}},[t._v(t._s(e.title))])],1),a("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.last_reply_at)))])])}),0),a("div",{attrs:{id:"paginator"}},[a("Pagination",{on:{handleList:t.renderlist}})],1)])])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"listHeader"},[n("span",{staticClass:"active"},[t._v("全部")]),n("span",[t._v("精华")]),n("span",[t._v("分享")]),n("span",[t._v("问答")]),n("span",[t._v("招聘")]),n("span",[t._v("客户端测试")])])}],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("button",{class:{disable:t.isFirstPage},on:{click:t.changePage}},[t._v("首页")]),n("button",{class:{disable:t.isFirstPage},on:{click:t.changePage}},[t._v("上一页")]),t._l(t.list,function(e){return n("button",{key:e,class:[{active:e==t.currentPage}],on:{click:function(n){return t.changePage(e)}}},[t._v("\n    "+t._s(e)+"\n  ")])}),n("button",{class:{disable:t.isLastPage},on:{click:t.changePage}},[t._v("下一页")]),n("button",{class:{disable:t.isLastPage},on:{click:t.changePage}},[t._v("末页")])],2)},k=[],L=(n("c5f6"),{name:"Pagination",data:function(){return{list:[1,2,3,4,5],currentPage:1,isFirstPage:!0,isLastPage:!1}},props:{totalpages:{type:Number,default:10}},beforeMount:function(){if(this.totalpages<5){this.list=[];for(var t=0;t<this.totalpages;t++)this.list[t]=t+1}},methods:{changePage:function(t){if("number"===typeof t)this.currentPage=t,t==this.list[4]&&t!=this.totalpages?(this.list.push(this.list[4]+1),this.list.shift()):t==this.list[0]&&1!=t&&(this.list.unshift(this.list[0]-1),this.list.pop()),1===this.currentPage?(this.isFirstPage=!0,this.isLastPage=!1):this.currentPage===this.totalpages?(this.isFirstPage=!1,this.isLastPage=!0):(this.isFirstPage=!1,this.isLastPage=!1),this.$emit("handleList",this.currentPage);else{var e=t.target;switch(e.innerText.trim()){case"首页":if(this.totalpages<5){this.list=[];for(var n=0;n<this.totalpages;n++)this.list[n]=n+1}else this.list=[1,2,3,4,5];this.changePage(1);break;case"上一页":var a=new Event("click");document.querySelector("button.active").previousElementSibling.dispatchEvent(a);break;case"下一页":var r=new Event("click");document.querySelector("button.active").nextElementSibling.dispatchEvent(r);break;case"末页":this.list=[this.totalpages-4,this.totalpages-3,this.totalpages-2,this.totalpages-1,this.totalpages],this.list=this.list.filter(function(t){return t>0}),this.changePage(this.totalpages);break;default:break}}}}}),w=L,$=(n("56a6"),Object(h["a"])(w,E,k,!1,null,"3471760c",null)),C=$.exports,j={name:"ArticleList",components:{Pagination:C},data:function(){return{isLoading:!0,articleLists:[],currentPage:1}},methods:{getList:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topics",{params:{page:this.currentPage,limit:20}}).then(function(e){t.articleLists=e.data.data,t.isLoading=!1}).catch(function(t){throw console.log(t),new Error(t)})},getTab:function(t){return t.top?"置顶":t.good?"精华":"share"===t.tab?"分享":"ask"===t.tab?"问答":"job"===t.tab?"招聘":""},renderlist:function(t){this.currentPage=t,this.getList()}},beforeMount:function(){this.isLoading=!0,this.getList()}},x=j,O=(n("d186"),Object(h["a"])(x,P,y,!1,null,"e7cd32be",null)),S=O.exports;i["a"].use(b["a"]);var M=new b["a"]({base:"/vue-cnode/",routes:[{path:"/",name:"root",components:{main:S}},{path:"/topic/:id&author=:name",name:"get_content",components:{main:function(){return n.e("about").then(n.bind(null,"fc1e"))},slidebar:function(){return n.e("about").then(n.bind(null,"cf44"))}}},{path:"/userinfo/:name",name:"userinfo",components:{main:function(){return n.e("about").then(n.bind(null,"79e2"))}}}]}),T=n("bc3a"),A=n.n(T);i["a"].prototype.$http=A.a,i["a"].config.productionTip=!1,i["a"].filter("formatDate",function(t){if(!t)return"";var e=Math.floor((r()()-Date.parse(t.toString()))/1e3);return e<10?"几秒前":e>=10&&e<60?"1 分钟前":e>=60&&e<3600?Math.floor(e/60)+" 分钟前":e>=3600&&e<86400?Math.floor(e/3600)+" 小时前":e>=86400&&e<2678400?Math.floor(e/86400)+" 天前":e>=2678400&&e<31536e3?Math.floor(e/2678400)+" 个月前":e>=31536e3?Math.floor(e/31536e3)+" 年前":""}),new i["a"]({router:M,render:function(t){return t(_)}}).$mount("#app")},"64a9":function(t,e,n){},6961:function(t,e,n){},"9b19":function(t,e,n){t.exports=n.p+"img/logo.86f6a7c2.svg"},bef4:function(t,e,n){"use strict";var a=n("ddd4"),r=n.n(a);r.a},cf1c:function(t,e,n){t.exports=n.p+"img/loading.ac447129.gif"},d186:function(t,e,n){"use strict";var a=n("6961"),r=n.n(a);r.a},ddd4:function(t,e,n){}});
//# sourceMappingURL=app.98041ec6.js.map